<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    
    yNotes</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>

<body>
<main class="content">
  <section class="jumbotron">
  <div class="video">
    
      <div class="video-frame">
        <img src="/images/ocean/overlay-hero.png" alt="Decorative image frame">
      </div>
    
    <div class="video-media">
      <img src="/images/movie.jpg">
    </div>
    <div class="video-inner text-center text-white">
      <h1><a href="/">yNotes</a></h1>
      <p>å±±å‹ ï½œ è— ï½œ ç¨‹å¼</p>
    </div>
    <div class="video-learn-more">
      <a class="anchor" href="#landingpage"><i class="fe fe-mouse"></i></a>
    </div>
  </div>
</section>

<div id="landingpage">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>

    
      
        

<article id="post-Django-dynamic-urls" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2020/02/14/Django-dynamic-urls/">[Django] Dynamic URLs</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2020/02/14/Django-dynamic-urls/" class="article-date">
  <time datetime="2020-02-14T11:55:47.000Z" itemprop="datePublished">2020-02-14</time>
</a>
        
      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h1 id="Django-Dynamic-URLs"><a href="#Django-Dynamic-URLs" class="headerlink" title="Django Dynamic URLs"></a>Django Dynamic URLs</h1><p>Have you ever considered to create dynamic urls in Django?<br>Not the url parameters but the ones which are gernerated according to data from a database or a file.  </p>
<h2 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h2><p>Normally, we create an url path in <code>urls.py</code> and map each url to a view function or class:  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">path(<span class="string">'demo'</span>, app.demo, related_name=<span class="string">"demo"</span>)</span><br><span class="line">path(<span class="string">'demo_class'</span>, app.DemoClass.as_view(), related_name=<span class="string">"demo_class"</span>)</span><br></pre></td></tr></table></figure>

<p>The path function needs url string, view function and other parameters.<br>The point is how do we make the url string and the view function dynamic?  </p>
<h2 id="Dynamic-Import"><a href="#Dynamic-Import" class="headerlink" title="Dynamic Import"></a>Dynamic Import</h2><p>The module <code>imorptlib</code> offers you to import module by moudleâ€™s name.  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">module = importlib.import_module(<span class="string">'sys'</span>)</span><br><span class="line"><span class="comment"># &lt;module 'sys' (built-in)&gt;</span></span><br></pre></td></tr></table></figure>

<p>As you can see, moduleâ€™s name is a string, that means we have more flexibilty to get module we want.  </p>
<p>This is how to import the views:  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">view_module = importlib.import_module(<span class="string">'%s.views'</span> % app_name)</span><br></pre></td></tr></table></figure>

<h2 id="Get-View"><a href="#Get-View" class="headerlink" title="Get View"></a>Get View</h2><p>Next step is to get the view from view_module.<br>A view is an attribute of the view_module, you can see the attribute list using built-in function <code>dir()</code>.  </p>
<p>Use built-in function <code>getattr()</code> to get the view.  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">view = getattr(view_module, <span class="string">'myView'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="CBV-or-FBV"><a href="#CBV-or-FBV" class="headerlink" title="CBV or FBV"></a>CBV or FBV</h2><p>Then we have to decide the view is CBV or FBV, the biggest difference in urlpatterns is the <code>is_view()</code> function.  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">view_function = view.as_view() <span class="keyword">if</span> inspect.isclass(view) <span class="keyword">else</span> view</span><br></pre></td></tr></table></figure>


<h2 id="Return"><a href="#Return" class="headerlink" title="Return"></a>Return</h2><p>For the case of Django build-in path method <code>include</code>:  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">include(<span class="string">'app.urls'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#(&lt;module 'app.urls' from 'E:\\myproject\\app\\urls.py'&gt;, None, None)</span></span><br></pre></td></tr></table></figure>

<p>Last two parameters are <strong>app_name</strong> and <strong>namesapce</strong>.<br>That means we should add these two parameters when returning the patterns.  </p>
<p>All in all,  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">programs = (</span><br><span class="line">    (<span class="string">'app'</span>, <span class="string">'viewa'</span>),</span><br><span class="line">    (<span class="string">'app'</span>, <span class="string">'viewb'</span>),</span><br><span class="line">    (<span class="string">'common'</span>, <span class="string">'viewc'</span>),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">dynamic_urls(setting):</span><br><span class="line">    urlpatters = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> sett <span class="keyword">in</span> setting:</span><br><span class="line">        module_name, view_name = sett</span><br><span class="line">        url = <span class="string">'%s/%s'</span> % (module_name, view_name)</span><br><span class="line">        <span class="comment"># depends on the rule you use</span></span><br><span class="line">        module = importlib.import_module(<span class="string">'%s.views'</span> % module_name)</span><br><span class="line">        <span class="comment"># dynamic import</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            view = getattr(module, view_name)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            view = view.as_view() <span class="keyword">if</span> inspect.isclass(view) <span class="keyword">else</span> view</span><br><span class="line">            urlpatterns.append(</span><br><span class="line">                path(url, view)</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> urlpatterns, <span class="string">'pds'</span>, <span class="string">'pds'</span></span><br><span class="line"></span><br><span class="line">dynamic_urls(programs)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ([&lt;URLPattern 'app/viewa'&gt;, &lt;URLPattern 'app/viewb'&gt;,</span></span><br><span class="line"><span class="comment">#   &lt;URLPattern 'common/viewc'&gt;, None, None)</span></span><br></pre></td></tr></table></figure>

<p>Then you can do something like this in your another urls.py:  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">path(<span class="string">'demo/'</span>, dynamic_urls(setting))</span><br></pre></td></tr></table></figure>

<p>;-)  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://willynpi.github.io/2020/02/14/Django-dynamic-urls/" data-id="ck6mao866000abvt6d7pibmy4"
         class="article-share-link">åˆ†äº«</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django-hack/" rel="tag">Django, hack</a></li></ul>

    </footer>

  </div>

  

  

</article>



      
        

<article id="post-ux-workshop" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2020/01/23/ux-workshop/">[UX] ç”¨æˆ¶è¨ªè«‡çš„å…¥é–€é«”é©—</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2020/01/23/ux-workshop/" class="article-date">
  <time datetime="2020-01-22T16:05:17.407Z" itemprop="datePublished">2020-01-23</time>
</a>
        
      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h1 id="ç”¨æˆ¶è¨ªè«‡çš„å…¥é–€é«”é©—-UX-å·¥ä½œåŠ"><a href="#ç”¨æˆ¶è¨ªè«‡çš„å…¥é–€é«”é©—-UX-å·¥ä½œåŠ" class="headerlink" title="ç”¨æˆ¶è¨ªè«‡çš„å…¥é–€é«”é©— UX å·¥ä½œåŠ"></a>ç”¨æˆ¶è¨ªè«‡çš„å…¥é–€é«”é©— UX å·¥ä½œåŠ</h1><p>ä¹‹å‰ä¸€ç›´æƒ³åƒåŠ UXç›¸é—œä¸»é¡Œçš„å·¥ä½œåŠï¼Œä½†è¿‘ä¸€å¹´ä¼¼ä¹æ»¿ç¨€å°‘çš„ï¼ŒæŸ¥åˆ°å¾ˆå¤šæ´»å‹•éƒ½æ˜¯å‰å¹´æˆ–æ˜¯å‰›éŒ¯éQQ<br>ä¸Šå€‹æœˆçªç„¶åœ¨ç¡å‰æ»‘åˆ°<a href="https://www.facebook.com/groups/uxui.taichung/" target="_blank" rel="noopener">UI/UXè‡ºä¸­èšçš„FBç¤¾åœ˜</a>ï¼Œä¹Ÿæ­£å¥½åœ¨ä¸ä¹…çš„å°‡ä¾†æœ‰ä¸€å ´<code>ç”¨æˆ¶è¨ªè«‡çš„å…¥é–€é«”é©— UX å·¥ä½œåŠ</code>ï¼Œthen here I am.</p>
<p>æœ¬ä¾†æ€•è‡ªå·±å°·å°¬ç—…ç™¼ä½œï¼Œç·Šå¼µå°±è…¦è¢‹ç©ºç™½çš„æˆ‘æœƒä¸æœƒæç ¸äº†å°çµ„ç·´ç¿’ï¼Ÿ<br>çµæœæ˜¯æˆ‘å¤šæƒ³äº†  </p>
<p>Soking æ˜¯è¬›å¸«ï¼Œä»–åœ¨<a href="https://medium.com/@soking" target="_blank" rel="noopener">ï¼­eduim</a>ç™¼äº†å¾ˆå¤šé—œæ–¼UXçš„æ–‡ç« ã€‚  </p>
<p>ä»–ä¸€é–‹å§‹å°±å•å¤§å®¶èª°ç•¶éè¨ªå•è€…èˆ‡å—è¨ªè€…ï¼Œè³ªæ€§ç ”ç©¶èˆ‡é‡åŒ–ç ”ç©¶çš„å·®åˆ¥åœ¨å“ªè£¡ï¼Ÿ  </p>
<h2 id="è³ªæ€§ç ”ç©¶-v-s-é‡åŒ–ç ”ç©¶"><a href="#è³ªæ€§ç ”ç©¶-v-s-é‡åŒ–ç ”ç©¶" class="headerlink" title="è³ªæ€§ç ”ç©¶ v.s. é‡åŒ–ç ”ç©¶"></a>è³ªæ€§ç ”ç©¶ v.s. é‡åŒ–ç ”ç©¶</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ï¼šè³ªæ€§ç ”ç©¶èŠ±çš„æ™‚é–“æ¯”è¼ƒé•·ï¼Œä¸åƒé‡åŒ–ç ”ç©¶ä¸€æ¨£èƒ½ä¸€æŠŠæ’’ä¸‹ç­‰å¾…æ”¶ç¶²ã€‚</span><br><span class="line">ï¼šè³ªæ€§ç ”ç©¶åƒæ˜¯åœ¨åšæ”¶æ–‚ï¼Œç”±å¤šå€‹æ±è¥¿ä¹‹ä¸­æ±‚å‡ºç›¸åŒçš„ï¼Œé‡åŒ–ç ”ç©¶å°±ç›¸åã€‚</span><br><span class="line">ï¼šè³ªæ€§ç ”ç©¶å¯ä»¥æŒ–å‡ºä¸€äº›é‡åŒ–ç ”ç©¶ç„¡æ³•çŸ¥é“çš„äº‹æƒ…ã€‚</span><br></pre></td></tr></table></figure>

<p>è³ªæ€§ç ”ç©¶çš„è³‡æ–™æœé›†æ–¹æ³•æœ‰å¾ˆå¤šç¨®ï¼Œé€™å€‹å·¥ä½œåŠåªå°ˆæ³¨åœ¨è¨ªè«‡æ³•ä¸Šé¢ã€‚<br>è¨ªè«‡åˆ†ç‚ºçµæ§‹åŒ–ã€åŠçµæ§‹åŒ–/è„ˆçµ¡ã€‚  </p>
<ul>
<li>çµæ§‹åŒ–çš„ä¿¡æ•ˆåº¦æ¯”è¼ƒé«˜ã€è¨ªè«‡äººå“¡æ¯”è¼ƒå®¹æ˜“è¢«è¨“ç·´ï¼Œå› ç‚ºè¨ªè«‡éç¨‹æ˜¯å›ºå®šæµç¨‹çš„ã€‚  </li>
<li>åŠçµæ§‹åŒ–/è„ˆçµ¡ä¹Ÿç¨±ä½œå¸«å¾’è¨ªè«‡ï¼Œå› ç‚ºè¨ªè«‡è€…å¿…é ˆåƒæ˜¯å¾’å¼Ÿä¸€æ¨£å‘å—è¨ªè€…å¸«çˆ¶è«‹æ•™ï¼Œè¨˜å¾—ç ”ç©¶ç›®çš„å¾Œï¼Œå°±ç•¶è‡ªå·±æ˜¯<em>å®Œå…¨ç„¡çŸ¥</em>ã€‚  </li>
</ul>
<h2 id="ç ´å†°ç·´ç¿’"><a href="#ç ´å†°ç·´ç¿’" class="headerlink" title="ç ´å†°ç·´ç¿’"></a>ç ´å†°ç·´ç¿’</h2><p>å…©äººä¸€çµ„çš„äº”åˆ†é˜å°ç·´ç¿’ï¼Œä¸»è¦æ˜¯å¸Œæœ›å¼•å°å—è¨ªè€…è«‡è«–è‡ªå·±èˆ‡ç‰©å“çš„é—œä¿‚ã€‚</p>
<p>é–‹å§‹ä¹‹å‰ï¼Œæœ‰å¾ˆé‡è¦çš„æå•åŸå‰‡ï¼š <strong>ä¿æŒå†·éœã€ç¶­æŒé–‹æ”¾æ€§ã€é¿å…æŒ‡å‘æ€§</strong>ã€‚</p>
<p>åœ¨æœ‰é»æ…Œäº‚ä¹‹ä¸‹ï¼Œæˆ‘å’Œéš”å£æ°£è³ªå§å§é–‹å§‹äº†è¨ªè«‡ç·´ç¿’ï¼Œæˆ‘æ˜¯è¨ªè«‡è€…ï¼Œå¥¹æ˜¯å—è¨ªè€…ã€‚<br>å®Œå…¨æ˜¯æˆ‘çš„ç¬¬ä¸€æ¬¡è¨ªè«‡ç¶“é©—ï¼Œæˆ‘ç™¼ç¾è‡ªå·±å¥½åƒå¾ˆå®¹æ˜“å°±è·Ÿå—è¨ªè€…é–‹èŠèµ·ä¾†XD</p>
<h2 id="é©åˆè„ˆçµ¡è¨ªè«‡çš„äº”ç¨®è§’è‰²"><a href="#é©åˆè„ˆçµ¡è¨ªè«‡çš„äº”ç¨®è§’è‰²" class="headerlink" title="é©åˆè„ˆçµ¡è¨ªè«‡çš„äº”ç¨®è§’è‰²"></a>é©åˆè„ˆçµ¡è¨ªè«‡çš„äº”ç¨®è§’è‰²</h2><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="bullet">- </span>åˆ©å®³é—œä¿‚äºº</span><br><span class="line"><span class="bullet">- </span>åŒäº‹</span><br><span class="line"><span class="bullet">- </span>è³¼è²·äºº/ä½¿ç”¨è€…/ç›®æ¨™ç”¨æˆ¶</span><br><span class="line"><span class="bullet">- </span>ä¾›æ‡‰å•†</span><br><span class="line"><span class="bullet">- </span>å°ˆå®¶</span><br></pre></td></tr></table></figure>

<h2 id="æ·±å…¥æå•æŠ€å·§"><a href="#æ·±å…¥æå•æŠ€å·§" class="headerlink" title="æ·±å…¥æå•æŠ€å·§"></a>æ·±å…¥æå•æŠ€å·§</h2><p>é€™partæ›äº†ä¸€å€‹å¤¥ä¼´ï¼Œé¸äº†ä¸€å€‹ä¸»é¡Œé€²è¡Œç·´ç¿’ â€“ <code>åœ¨ä¾¿åˆ©å•†åº—çµå¸³æ™‚ï¼Œç”¨ä»€éº¼æ–¹å¼ä»˜æ¬¾ï¼Ÿ</code><br>ç·´ç¿’ä»–åˆ—å‡ºçš„æ·±å…¥æŠ€å·§ã€‚  </p>
<p>åœ¨ä¸€é–‹å§‹æå•æ™‚ï¼Œå¯ä»¥<strong>å¾ç©ºæ³›çš„ã€ä¸€èˆ¬çš„å•é¡Œåˆ‡å…¥ï¼Œå†æ›´æ·±å…¥</strong><br>å¯ä»¥åœ¨ä¸€èˆ¬å•é¡Œèˆ‡æ·±å…¥å•é¡Œä¹‹é–“åˆ‡æ›ï¼Œæœ€å¥½æ˜¯å–å¾—<strong>å—è¨ªè€…å¯¦éš›æ“ä½œçš„è¡Œç‚ºï¼Œé æ¯”ä¸»è§€æ„Ÿå—å¥½!</strong></p>
<p>æˆ‘åœ¨é€™è£¡ä¸€æ¨£ä¿æŒæ…Œäº‚(?)è€Œä¸”ä¸€æ¨£è¦èŠèµ·ä¾†äº†XD<br>ä½†æ˜¯æ¯”å‰›å‰›å†·éœå¤šäº†!<br>ä¸éå¦‚æœä¸æ˜¯å› ç‚ºè‡ªå·±å°æ–¼è¶…å•†çµå¸³æ–¹å¼å°æœ‰é—œå¿ƒï¼Œæˆ‘å¤§æ¦‚ä¹Ÿä¸æœƒæœ‰ä»€éº¼å•é¡Œï¼Œä¹Ÿä¸æœƒå‰›å¥½å®Œæˆä¸Šè¿°æ·±å…¥æŠ€å·§çš„æŸå¹¾é … ËŠ__&gt;Ë‹<br><code>è¨ªå•è€…éœ€è¦æœ‰æ¥µå¤§å¥½å¥‡å¿ƒ</code>æ‰è¡Œï¼Œé¡¯ç„¶æˆ‘å¤§æ¦‚æ˜¯éœ€è¦æ·±å…¥äº†è§£æ‰æœƒç”¢ç”Ÿå¥½å¥‡å¿ƒçš„äººã€‚</p>
<h2 id="åˆ¶å®šè¨ªè«‡å¤§ç¶±"><a href="#åˆ¶å®šè¨ªè«‡å¤§ç¶±" class="headerlink" title="åˆ¶å®šè¨ªè«‡å¤§ç¶±"></a>åˆ¶å®šè¨ªè«‡å¤§ç¶±</h2><p>é€™partå°±æ˜¯æœ€å¾Œçš„20åˆ†é˜ç·´ç¿’ï¼Œä¸»é¡Œæ˜¯ â€“ <code>ç·šä¸Šå­¸ç¿’ç¶“é©—</code></p>
<p>å¤§ç¶±å…§åŒ…å«</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="bullet">- </span>ç ”ç©¶ä¸»é¡Œ</span><br><span class="line"><span class="bullet">- </span>å—è¨ªè€…èƒŒæ™¯</span><br><span class="line"><span class="bullet">- </span>ä¾æ“š AEIOU çš„åŸå‰‡ç ”ç©¶ä¸»é¡Œç›¸é—œäº‹ä»¶è„ˆçµ¡</span><br></pre></td></tr></table></figure>

<h2 id="åŸ·è¡Œè¨ªè«‡"><a href="#åŸ·è¡Œè¨ªè«‡" class="headerlink" title="åŸ·è¡Œè¨ªè«‡"></a>åŸ·è¡Œè¨ªè«‡</h2><p>é€™ä¸€partåŸºæœ¬ä¸Šä¹Ÿæ˜¯æ…Œäº‚è·‘é(åˆ°åº•æ˜¯å¤šæ…ŒXD)<br>ä½†æ˜¯æœ‰å‰é¢çš„ç¶“é©—ä¹‹å¾Œï¼Œé€™æ¬¡è‡ªæˆ‘æ„Ÿè¦ºè‰¯å¥½<br>é›–ç„¶é‚„æ˜¯æœ‰å•åˆ°ä¹¾æ‰ï¼Œä¸€é‚Šè½å—è¨ªè€…çš„å›è¦†ã€ä¸€é‚Šè¨˜ä¸‹é—œéµå­—ã€ä¸€é‚Šæº–å‚™å…¶ä»–æ·±å…¥å•é¡Œï¼Œåˆå¾—é¿å…å•å‡ºæŒ‡å‘æ€§å•é¡Œâ€¦<br>çœŸçš„æ˜¯çŸ­æ™‚é–“å…§å¤šå·¥  </p>
<p>é‚„å¥½æ°£è³ªå§å§è·³å‡ºä¾†æ•‘æ´ï¼<br>å®Œå…¨ä¸æ…Œä¸å¿™åœ°æ…¢æ…¢å•å‡ºå•é¡Œã€åŠ ä¸Šå›é¡§ï¼Œé‚„å¯ä»¥å¯«ç­†è¨˜ï¼Œå¥½å´‡æ‹œQQ  </p>
<h2 id="å¡ç‰‡åˆ†é¡æ³•"><a href="#å¡ç‰‡åˆ†é¡æ³•" class="headerlink" title="å¡ç‰‡åˆ†é¡æ³•"></a>å¡ç‰‡åˆ†é¡æ³•</h2><p>æŠŠå‰›å‰›è¨ªè«‡å–å¾—çš„è³‡æ–™ï¼ŒæŠ½å–èˆ‡ç ”ç©¶ä¸»é¡Œç›¸é—œçš„<strong>å…·é«”è¡Œç‚ºäº‹å¯¦</strong>ã€‚</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">e.x. ç•¶<span class="strong">_____</span>ï¼Œæˆ‘æƒ³è¦<span class="strong">_____</span>ï¼Œé€™æ¨£æˆ‘å°±èƒ½<span class="strong">_____</span>ã€‚</span><br></pre></td></tr></table></figure>

<p>å°çµ„æ¯å€‹äººéƒ½è¦æŠŠè¨ªè«‡å…§å®¹è½‰æˆä»¥ä¸Šç¯„ä¾‹ï¼Œå¯«åœ¨ä¾¿æ¢ç´™ä¸Šã€‚<br>ç„¶å¾Œé›†åˆèµ·ä¾†è²¼åœ¨æŸå€‹ç©ºä½ï¼Œä¾‹å¦‚ç‰†å£ã€‚</p>
<p>æ¯å€‹äººéƒ½èƒ½è‡ªç”±åœ°ç§»å‹•ä¾¿æ¢ç´™æ­¸é¡ã€‚<br>æ¥ä¸‹ä¾†ç‚ºæ¯ä¸€å€‹é¡åˆ¥å®šç¾©è¡Œç‚ºç›®æ¨™èˆ‡éœ€æ±‚å‹•æ©Ÿï¼Œä¹Ÿå¯ä»¥å¯«ä¸Šå½¢å®¹è©ã€‚</p>
<p>æœ€å¾Œæœƒæœ‰ä¸‰å±¤(ä»¥ä¸‹è™›æ§‹)</p>
<table>
<thead>
<tr>
<th>éœ€æ±‚å‹•æ©Ÿ/å½¢å®¹è©</th>
<th>å¤šå…ƒçš„</th>
<th>ç¤¾äº¤æ€§çš„</th>
</tr>
</thead>
<tbody><tr>
<td>è¡Œç‚ºç›®æ¨™</td>
<td>è·¨é ˜åŸŸå­¸ç¿’</td>
<td>å°‹æ±‚å”åŠ©</td>
</tr>
<tr>
<td>è¨ªè«‡è³‡æ–™</td>
<td>å­¸ç¨‹å¼/å‘¨åœäººéƒ½åœ¨å­¸ç¨‹å¼/ä¸çŸ¥é“æ€éº¼å…¥é–€</td>
<td>èªè­˜è€å¸«/å°èª²ç¨‹æœ‰ç–‘å•/ä¸Šç¶²ç™¼å•ä¸å®¹æ˜“å¾—åˆ°è§£ç­”</td>
</tr>
<tr>
<td></td>
<td>å­¸è¨­è¨ˆ/æœ‰èˆˆè¶£/æ²’æ™‚é–“é•·æœŸå­¸ç¿’</td>
<td>èˆ‡å…¶ä»–äººäº’å‹•/è¦èªçœŸå­¸ç¿’/è‡ªå·±å­¸å¾ˆå­¤å–®</td>
</tr>
</tbody></table>
<p>é€šå¸¸åŸ·è¡Œè€…éƒ½åœ¨åšç¬¬äºŒå±¤çš„å»£å‘ŠæŠ•æ”¾ï¼Œä¹Ÿå°±æ˜¯è¡Œç‚ºç›®æ¨™ã€‚<br>ä¼æ¥­é¡˜æ™¯é€šå¸¸æ˜¯ç¬¬ä¸€å±¤çš„å½¢å®¹è©ï¼Œè€ŒçœŸæ­£ä½¿ç”¨è€…çš„è¡Œç‚ºæ¨¡å¼æ˜¯ç¬¬ä¸‰å±¤ã€‚<br>åŸ·è¡Œè€…å¦‚æœæ²’æœ‰åšä½¿ç”¨è€…èª¿ç ”ï¼Œä¼æ¥­ä¹Ÿæ²’æœ‰å‚³é”å…¬å¸ç†å¿µï¼ŒåŸºæœ¬ä¸ŠåŸ·è¡Œè€…éƒ½æ˜¯åœ¨ä¸€å€‹è„«é‰¤çš„ç‹€æ…‹ä¸‹çŒœæ¸¬ä½¿ç”¨è€…çš„éœ€æ±‚ã€‚  </p>
<p>å¦å¤–ï¼Œæ¯å€‹äººå¯«ä¾¿æ¢ç´™çš„æ–¹å¼ã€å­—çš„å¤§å°éƒ½ä¸å¤ªä¸€æ¨£ï¼Œé€ æˆåœ¨ç†è§£ã€åˆ†é¡çš„æ™‚å€™æœ‰é»åƒåŠ›ï¼Œæœªä¾†å¯èƒ½å¾—å…ˆçµ±ä¸€å¯«æ³•æ‰è¡Œã€‚<br>è€Œä¸”ä¾¿æ¢ç´™ä¸Šåªèƒ½å¯«ä¸€é …äº‹æƒ…ã€åŸå› ï¼Œä»¥å…å¾ˆé›£æ­¸é¡ã€‚  </p>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>é€™æ¬¡çš„é«”é©—å·¥ä½œåŠç²ç›Šè‰¯å¤šï¼Œå°±ç®—å¹³å¸¸é–±è®€ç›¸é—œçŸ¥è­˜æ–‡ç« ã€äº†è§£ä¸€äº›åšæ³•ï¼Œ<strong>å¯¦éš›ç¶“é©—å’Œç´™ä¸Šè«‡å…µé‚„æ˜¯æœ‰å·®</strong>ï¼<br>ä½†å› ç‚ºæ™‚é–“æœ‰é»ç·Šè¿«ï¼Œè®“æˆ‘é€™ç¨®ç›¸å°èœçš„ç¤¾æœƒäººã€è¨ªè«‡è¶…æ–°æ‰‹æœ‰é»ç·Šå¼µã€‚  </p>
<p>ä¸éæˆ‘ç¢ºå¯¦æ„è­˜åˆ°è¨ªè«‡å…¶å¯¦ä¸åŒæ–¼ä¸€èˆ¬èŠå¤©ï¼Œå„˜ç®¡èŠå¤©ä¹Ÿå¯ä»¥èŠå‡ºä¸€äº›ä»€éº¼(è­¬å¦‚ä¸Šé¢æåˆ°çš„å›é¦¬æ§)ï¼Œä½†<strong>è¨ªè«‡æ˜¯æœ‰ç›®æ¨™çš„ã€æ¯”è¼ƒåš´è‚…çš„</strong>ã€‚<br>å·¥ä½œåŠä¸åƒ…æä¾›æ©Ÿæœƒç·´ç¿’ç•¶è¨ªè«‡è€…ï¼Œä¹Ÿæœ‰æ©Ÿæœƒç•¶å—è¨ªè€…ã€‚<br>å¦‚æœè¨ªè«‡äººå“¡ä¸çµ¦æˆ‘ä¸€äº›å€‹äººå›é¥‹è€Œè‡ªé¡§åœ°å¾€ä¸‹å•å•é¡Œï¼Œæœƒè®“æˆ‘ä¸è‡ªè¦ºåœ°ç·Šå¼µèµ·ä¾†ï¼Œä½†æ“”ä»»å—è¨ªè€…çš„äººåˆå¾—é¿å…è¨ªå•è®ŠæˆèŠå¾ˆé–‹çš„ç‹€æ³ï¼ŒçœŸçš„æ˜¯ä¸å¤ªå®¹æ˜“å‘€ï½  </p>
<p>è¨ªå•è€…å¾—è¦ä¿æœ‰å†·éœçš„å¥½å¥‡å¿ƒï¼Œä¸æ–·åœ°æŒ–æ˜ã€‚  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://willynpi.github.io/2020/01/23/ux-workshop/" data-id="ck6mao8650007bvt610o7361z"
         class="article-share-link">åˆ†äº«</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UX-note-workshop/" rel="tag">UX, note, workshop</a></li></ul>

    </footer>

  </div>

  

  

</article>



      
        

<article id="post-explore-django-view-class" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2020/01/10/explore-django-view-class/">explore-django-view-class</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2020/01/10/explore-django-view-class/" class="article-date">
  <time datetime="2020-01-09T17:08:41.000Z" itemprop="datePublished">2020-01-10</time>
</a>
        
      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h1 id="Python-OOP"><a href="#Python-OOP" class="headerlink" title="Python OOP"></a>Python OOP</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class A:</span><br><span class="line">    </span><br><span class="line">    class_attr = &apos;ca&apos;</span><br><span class="line">    </span><br><span class="line">    def __init__(self, instance_attr):</span><br><span class="line">        self.ia = instance_attr</span><br><span class="line"></span><br><span class="line">    def get_attributes(self):</span><br><span class="line">        print(self.class_attr)</span><br><span class="line">        print(self.ia)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = A(&apos;abc&apos;)</span><br><span class="line">a.get_attributes()</span><br><span class="line"></span><br><span class="line"># cv</span><br><span class="line"># abc</span><br></pre></td></tr></table></figure>

<h2 id="ç¯„ä¾‹"><a href="#ç¯„ä¾‹" class="headerlink" title="ç¯„ä¾‹"></a>ç¯„ä¾‹</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    bark = <span class="string">'æ±ª'</span></span><br><span class="line">    legs = <span class="number">4</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intro</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'æˆ‘å«%s, æˆ‘%sæ­²ã€‚ %s!'</span> % (self.name, self.age, self.bark))</span><br><span class="line">    </span><br><span class="line">willy = Dog(<span class="string">'Willy'</span>, <span class="number">7</span>)</span><br><span class="line">joe = Dog(<span class="string">'Joe'</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">willy.intro()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ‘å«Willy, æˆ‘7æ­²ã€‚ æ±ª!</span></span><br><span class="line"></span><br><span class="line">joe.age = <span class="number">1</span></span><br><span class="line">joe.bard = <span class="string">'...'</span></span><br><span class="line">joe.intro()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ‘å«Joe, æˆ‘1æ­²ã€‚ ...!</span></span><br></pre></td></tr></table></figure>

<h2 id="ç¹¼æ‰¿"><a href="#ç¹¼æ‰¿" class="headerlink" title="ç¹¼æ‰¿"></a>ç¹¼æ‰¿</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThreeLegDog</span><span class="params">(Dog)</span>:</span></span><br><span class="line">    legs = <span class="number">3</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, cause)</span>:</span></span><br><span class="line">        super().__init__(name, age)</span><br><span class="line">        self.cause = cause</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tell_me_why</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'æˆ‘åªæœ‰%sæ”¯è…³ï¼Œå› ç‚ºæˆ‘%sã€‚'</span> % (self.legs, self.cause))</span><br><span class="line">        </span><br><span class="line">leo = ThreeLegDog(<span class="string">'Leo'</span>, <span class="number">10</span>, <span class="string">'ç”Ÿç—…'</span>)</span><br><span class="line"></span><br><span class="line">leo.tell_me_why()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ‘åªæœ‰3æ”¯è…³ï¼Œå› ç‚ºæˆ‘ç”Ÿç—…ã€‚</span></span><br></pre></td></tr></table></figure>


<h2 id="ç”±å³å¾€å·¦"><a href="#ç”±å³å¾€å·¦" class="headerlink" title="ç”±å³å¾€å·¦"></a>ç”±å³å¾€å·¦</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ALotOfWater</span>:</span></span><br><span class="line">    </span><br><span class="line">    amount = <span class="string">'5L'</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">status</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'æ°´å–å¤ªå¤šï¼Œæˆ‘æƒ³å°¿å°¿!'</span>)</span><br><span class="line">        </span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drink</span><span class="params">(cls)</span>:</span></span><br><span class="line">        print(<span class="string">'æˆ‘å–äº†%sçš„æ°´!'</span> % cls.amount)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intro</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'æˆ‘å«%s....å¸¶æˆ‘å»å°¿å°¿ QQ'</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WaterDog</span><span class="params">(ALotOfWater, Dog)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">wayne = WaterDog(<span class="string">'Wayne'</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">wayne.status()</span><br><span class="line"><span class="comment">#æ°´å–å¤ªå¤šï¼Œæˆ‘æƒ³å°¿å°¿</span></span><br><span class="line"></span><br><span class="line">wayne.intro()</span><br><span class="line"><span class="comment">#æˆ‘å«Wayne....å¸¶æˆ‘å»å°¿å°¿ QQ</span></span><br><span class="line"></span><br><span class="line">ALotOfWater.status()</span><br><span class="line"><span class="comment">#æ°´å–å¤ªå¤šï¼Œæˆ‘æƒ³å°¿å°¿</span></span><br><span class="line"></span><br><span class="line">ALotOfWater.drink()</span><br><span class="line"><span class="comment">#æˆ‘å–äº†5Lçš„æ°´!</span></span><br></pre></td></tr></table></figure>



<h2 id="Django-View"><a href="#Django-View" class="headerlink" title="Django View"></a>Django View</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">View</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @classonlymethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">as_view</span><span class="params">(cls, **initkwargs)</span>:</span></span><br><span class="line">        ...</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">view</span><span class="params">(request, *args, **kwargs)</span>:</span></span><br><span class="line">            ...</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> view</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line"><span class="comment">## ListView ç¹¼æ‰¿ View</span></span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"></span><br><span class="line"><span class="comment"># views.py</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogListView</span><span class="params">(ListView)</span>:</span></span><br><span class="line">	model = Blog</span><br><span class="line">	paginate_by = <span class="number">5</span></span><br><span class="line">	context_object_name = <span class="string">'blogs'</span></span><br><span class="line">	template_name = <span class="string">'blog/blogs.html'</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment"># urls.py</span></span><br><span class="line"></span><br><span class="line">url_patterns = [ </span><br><span class="line">    path(<span class="string">'blogs'</span>, BlogListView.as_view(), name=<span class="string">"blog_list"</span>),</span><br><span class="line">    ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># blog/blogs.html</span><br><span class="line"></span><br><span class="line">&#123;% for blog in blogs %&#125;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=&quot;/blog/&#123;&#123;blog.pk&#125;&#125;&quot;&gt;&#123;&#123;blog.title&#125;&#125;&lt;/a&gt;</span><br><span class="line">        (&#123;&#123;blog.publish_date|date:&apos;Y-m-d H:i&apos;&#125;&#125;) - </span><br><span class="line">        &lt;a href=&quot;/blog/blogger/&#123;&#123;blog.blogger.pk&#125;&#125;&quot;&gt;&#123;&#123;blog.blogger&#125;&#125;&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Why"><a href="#Why" class="headerlink" title="Why?"></a>Why?</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListView</span><span class="params">(MultipleObjectTemplateResponseMixin, BaseListView)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="comment"># ListView ç¹¼æ‰¿äº†å…©å€‹æ±è¥¿</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseListView</span><span class="params">(MultipleObjectMixin, View)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="comment"># BaseListView ä¹Ÿç¹¼æ‰¿äº†å…©å€‹æ±è¥¿</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MultipleObjectTemplateResponseMixin</span><span class="params">(TemplateResponseMixin)</span>:</span></span><br><span class="line">    <span class="string">"""Mixin for responding with a template and list of objects."""</span></span><br><span class="line">    template_name_suffix = <span class="string">'_list'</span></span><br><span class="line">    <span class="comment"># é€™è£¡å¯ä»¥çŸ¥é“default templateåç¨±æœƒæœ‰ä¸€å€‹å›ºå®šçš„çµå°¾ -&gt; blog_list.html</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_template_names</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Return a list of template names to be used for the request. Must return</span></span><br><span class="line"><span class="string">        a list. May not be called if render_to_response is overridden.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            names = super().get_template_names()</span><br><span class="line">            <span class="comment">#ä½†æ˜¯ä»–æœƒå…ˆçœ‹çœ‹template_nameæœ‰æ²’æœ‰å€¼</span></span><br><span class="line">        <span class="keyword">except</span> ImproperlyConfigured:</span><br><span class="line">            <span class="comment"># If template_name isn't specified, it's not a problem --</span></span><br><span class="line">            <span class="comment"># we just start with an empty list.</span></span><br><span class="line">            names = []</span><br><span class="line">        ...</span><br><span class="line">        </span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TemplateResponseMixin</span>:</span></span><br><span class="line">    <span class="string">"""A mixin that can be used to render a template."""</span></span><br><span class="line">    template_name = <span class="literal">None</span></span><br><span class="line">    template_engine = <span class="literal">None</span></span><br><span class="line">    response_class = TemplateResponse</span><br><span class="line">    content_type = <span class="literal">None</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MultipleObjectMixin</span><span class="params">(ContextMixin)</span>:</span></span><br><span class="line">    <span class="string">"""A mixin for views manipulating multiple objects."""</span></span><br><span class="line">    allow_empty = <span class="literal">True</span></span><br><span class="line">    queryset = <span class="literal">None</span></span><br><span class="line">    model = <span class="literal">None</span></span><br><span class="line">    paginate_by = <span class="literal">None</span></span><br><span class="line">    paginate_orphans = <span class="number">0</span></span><br><span class="line">    context_object_name = <span class="literal">None</span></span><br><span class="line">    paginator_class = Paginator</span><br><span class="line">    page_kwarg = <span class="string">'page'</span></span><br><span class="line">    ordering = <span class="literal">None</span></span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç°¡å–®ä¾†èªªï¼Œé€™å€‹classæœƒå…ˆåˆ¤æ–·æœ‰æ²’æœ‰queryset</span></span><br><span class="line">    <span class="comment"># ä¸ç„¶å°±ä½¿ç”¨modelå¾—åˆ°æ‰€æœ‰è³‡æ–™ -&gt; model.objects.all()ã€‚</span></span><br><span class="line">    <span class="comment"># éƒ½æ²’æœ‰å°±æœƒå™´éŒ¯!</span></span><br><span class="line">    <span class="comment"># </span></span><br><span class="line">    <span class="comment"># ç„¶å¾Œå¡é€²contextè£¡é¢ä½¿ç”¨defaultå€¼: object_listï¼Œé™¤écontext_object_nameæœ‰å€¼ã€‚</span></span><br><span class="line">    <span class="comment"># contextå°±æ˜¯çµ¦templateçš„è³‡æ–™</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ContextMixin</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    A default context mixin that passes the keyword arguments received by</span></span><br><span class="line"><span class="string">    get_context_data() as the template context.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    extra_context = <span class="literal">None</span></span><br></pre></td></tr></table></figure>


<p>å„ç¨®è¿½Code.<br>é˜¿å½Œé™€ä½›  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://willynpi.github.io/2020/01/10/explore-django-view-class/" data-id="ck6mao868000bbvt6eg7q70h9"
         class="article-share-link">åˆ†äº«</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/" rel="tag">Django</a></li></ul>

    </footer>

  </div>

  

  

</article>



      
        

<article id="post-django-centos7-apache" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/12/03/django-centos7-apache/">[Django] CentOS 7 &amp; Apache</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2019/12/03/django-centos7-apache/" class="article-date">
  <time datetime="2019-12-03T12:46:55.000Z" itemprop="datePublished">2019-12-03</time>
</a>
        
      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <p>æ¯æ¬¡è¦å®‰è£æ±è¥¿çš„æ™‚å€™éƒ½è¦ºå¾—   <strong>å¾ˆæ£’</strong>ã€‚</p>
<p>é€™æ¬¡æ˜¯æŠŠDjango æ¶åœ¨ CentOS 7 æ­é… Apache ä¹‹ä¸Š<br>é€™ç¨®æ–‡ç« éš¨ä¾¿æœéƒ½æ˜¯ä¸€å¤§æŠŠï¼Œä½†ç„¡å¥ˆæ¯å€‹äººçš„ç‹€æ³éƒ½ä¸ä¸€æ¨£<br>ä½•æ³æœ‰äº›éƒ½åƒ…åªæœ‰æ­¥é©Ÿï¼Œæ¯æ¬¡éƒ½è®“æˆ‘æœ‰â€å¥½åƒåˆ¥äººå®‰è£éƒ½å¾ˆé †â€çš„éŒ¯è¦º(ç•¶ç„¶é€™å¯èƒ½ä¸æ˜¯éŒ¯è¦º â€¦ )ã€‚<br>æœ€å¾Œåªå¥½è‡ªå·±å»çœ‹å®˜æ–¹æ–‡ä»¶æª”ï¼Œä½†ä½ çŸ¥é“çš„ï¼Œéƒ½æ˜¯å¯†å¯†éº»éº»çš„è‹±æ–‡å­—ï¼<br>æˆ‘åˆæœ‰è®€å¾ˆå¿«çµæœæ¼çœ‹æŸäº›é‡è¦è¨Šæ¯çš„æ¯›ç—… ï¼ˆËŠ_____&gt;Ë‹ï¼‰  </p>
<p>ç‚ºäº†æ€•å¼„å£ï¼Œæˆ‘å…ˆå¼„äº†å€‹VMwareä¾†åšé€™ä»¶äº‹ã€‚  </p>
<h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><p>é¦–å…ˆè£pythonæœ‰å…©ç¨®é€”å¾‘ï¼Œä¸€å€‹æ˜¯å¾è³‡æºåº«ï¼Œä¸€å€‹æ˜¯é€éæºç¢¼ã€‚<br>å‰é¢çš„ç°¡å–®ï¼Œå¾Œé¢çš„å°±æ˜¯è‡ªå·±å°å®‰è£çš„æ±è¥¿æ¯”è¼ƒæœ‰æŒæ§åº¦ï¼Œä½†yumä¸æœƒè¨˜éŒ„åˆ°é€™ä¸€ç­†å®‰è£ã€‚<br>æœ€æœ€ä¸€é–‹å§‹ï¼Œæˆ‘å°±æ˜¯æŒ‰è¡¨æŠ„èª²çš„èµ°ç¬¬äºŒå€‹æ–¹å¼<br>ä½†å¾ˆæŠ±æ­‰ï¼Œæ–‡ç« æ˜¯ä¹‹å¾Œæ‰è£œçš„ï¼Œæ‰€ä»¥å¯¦éš›ä¸Šé‡åˆ°ä»€éº¼å›°é›£æˆ‘ä»¥éºå¿˜ï¼Œæˆ–æ˜¯å®³æ€•å†æƒ³èµ·ä¾†ã€‚</p>
<p>åªèƒ½èªªç”¨è³‡æºåº«å®‰è£æ²’ä»€éº¼å•é¡Œï¼Œå¾ˆæ£’ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ yum install -y https://centos7.iuscommunity.org/ius-release.rpm</span><br><span class="line">$ yum update</span><br><span class="line">$ yum install python36u python36u-libs python36u-devel python36u-pip</span><br></pre></td></tr></table></figure>

<p>å®Œæˆå¾Œå¯ç«‹å³ä½¿ç”¨python3.6ã€‚ğŸ‘<br>ç„¶å¾Œå®‰è£virtualenvï¼Œå…ˆå‡ç´š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ python3.6 -m pip install --upgrade pip</span><br><span class="line">$ python3.6 -m pip install virtualenv</span><br></pre></td></tr></table></figure>

<h2 id="Apache"><a href="#Apache" class="headerlink" title="Apache"></a>Apache</h2><p>å¿…é ˆæ˜¯<code>2.0</code>, <code>2.2</code> æˆ– <code>2.4</code>ç‰ˆæœ¬ã€‚</p>
<h2 id="mod-wsgi"><a href="#mod-wsgi" class="headerlink" title="mod_wsgi"></a>mod_wsgi</h2><p>å†ä¾†æ˜¯è¨Mçš„<code>mod_wsgi</code>ï¼Œæœ‰å¾ˆå¤šæ–‡ç« éƒ½ç”¨<code>yum install mod_wsgi</code><br>ä½†æ˜¯å¦‚æœä½ ç”¨çš„æ˜¯<em>python3</em>é–‹ç™¼ï¼Œé‚£å°±æœƒè·Ÿæˆ‘ä¸€æ¨£å¡åœ¨çµ•æœ›æ·±è°·ï¼Œå› ç‚ºå®ƒé è¨­å°±æ˜¯ä½¿ç”¨<em>python2.7</em>ã€‚</p>
<p>æœ‰å…©ç¨®å®‰è£æ–¹å¼ï¼šæºç¢¼è·ŸpythonåŒ…ï¼Œæˆ‘é¸æºç¢¼ã€‚</p>
<p><strong>æœƒéœ€è¦gcc for C compile</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ yum install gcc</span><br><span class="line">$ wget https://github.com/GrahamDumpleton/mod_wsgi/archive/4.6.5.tar.gz</span><br><span class="line">$ tar xzf 4.6.5.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> mod_wsgi-4.6.5</span><br><span class="line">$ ./configure --with-python=`<span class="built_in">which</span> python3.6`</span><br><span class="line">$ make</span><br><span class="line">$ make install</span><br><span class="line"></span><br><span class="line">ï¼ƒ æœ€å¾Œç”¢å‡º wsgi_module <span class="string">'/usr/lib64/httpd/modules/mod_wsgi.so'</span></span><br></pre></td></tr></table></figure>

<h2 id="httpd-conf"><a href="#httpd-conf" class="headerlink" title="httpd.conf"></a>httpd.conf</h2><p>ç”¨Apacheä¼ºæœpythonç¶²é æœ‰å…©ç¨®æ¨¡å¼ï¼Œ<code>åµŒå…¥å¼</code>èˆ‡<code>Daemon</code>ã€‚<br>ä¸»è¦å·®åˆ¥åœ¨æ–¼</p>
<ul>
<li>åµŒå…¥å¼æœƒå½±éŸ¿åˆ°å…¶ä»–Apacheå…§ç›¸é—œè¨­å®šï¼Œè€Œä¸”æ›´å‹•åˆ°å°ˆæ¡ˆå…§çš„codeå°±è¦restart serviceã€‚</li>
<li>Daemonè·‘è‡ªå·±çš„ï¼Œä¹Ÿèƒ½åµæ¸¬åˆ°codeçš„æ”¹è®Šï¼Œä½†å‰ææ˜¯ä½ å¿…é ˆæ‰‹å‹• touch wsgi.pyã€‚</li>
</ul>
<ol>
<li><p>æ–°å¢ wsgi_module</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute"><span class="nomarkup">LoadModule</span></span> wsgi_module '/usr/lib64/httpd/modules/mod_wsgi.so'</span><br></pre></td></tr></table></figure>
</li>
<li><p>virtualhost</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># WSGIRestrictEmbedded é è¨­ç‚º Offï¼Œå› ç‚ºè¦é€²å…¥Daemon Modeæ‰€ä»¥è¨­å®šç‚º On (ä¹Ÿæ˜¯å®˜æ–¹æ¨è–¦ è®šè®š) </span></span><br><span class="line"><span class="attribute">WSGIRestrictEmbedded</span> <span class="literal">On</span></span><br><span class="line"></span><br><span class="line"><span class="section">&lt;Virtualhost ip&gt;</span></span><br><span class="line"><span class="attribute"><span class="nomarkup">ServerName</span></span> domain.com</span><br><span class="line"><span class="attribute">CustomLog</span> /var/log/httpd/access.log</span><br><span class="line"><span class="attribute">ErrorLog</span> /var/log/httpd/error.log</span><br><span class="line"></span><br><span class="line"><span class="section">&lt;/Virtualhost&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€™è£¡ä¸»è¦æ˜¯è¨­å®šdaemonçš„åç¨±é‚„æœ‰åŸ·è¡Œçš„pythonï¼Œå¦‚æœä½¿ç”¨è™›æ“¬ç’°å¢ƒï¼Œé‚£å°±æ˜¯åˆ°è™›æ“¬ç’°å¢ƒè£¡çš„python.exe</span></span><br><span class="line"><span class="attribute">WSGIDaemonProcess</span> process-name python-home=path/to/python</span><br><span class="line"><span class="attribute">WSGIProcessGroup</span>  process-name</span><br><span class="line"><span class="attribute">WSGIScriptAlias</span> / 'path/to/wsgi.py'</span><br><span class="line"></span><br><span class="line"><span class="section">&lt;Directory 'path/to/wsgi'&gt;</span></span><br><span class="line"><span class="section">&lt;Files wsgi.py&gt;</span>   </span><br><span class="line"><span class="attribute">Require</span> <span class="literal">all</span> granted</span><br><span class="line"><span class="section">&lt;/Files&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># settings.pyè£¡é¢è¨­å®šçš„é‚£å€‹ STATICFILES_ROOT</span></span><br><span class="line"><span class="attribute">Alias</span> '/static' 'path/to/static-files'</span><br><span class="line"></span><br><span class="line"><span class="section">&lt;Directory 'path/to/static-files'&gt;</span></span><br><span class="line">    <span class="attribute">AllowOverride</span> None</span><br><span class="line">    <span class="attribute">Require</span> <span class="literal">all</span> granted</span><br><span class="line"><span class="section">&lt;/Directory&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ol>
<p>å¤§è‡´ä¸Šç°¡æ˜“çš„è¨­å®šå°±æ˜¯é€™å€‹æ¨£å­<br><code>å†æé†’ä¸€æ¬¡ï¼šæ¯ç•¶æœ‰ç¨‹å¼ç¢¼çš„æ›´å‹•ï¼Œéƒ½è¦touch wsgi.pyæ‰æœƒå…¨éƒ¨é‡æ–°è¼‰å…¥å–”ï¼</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://willynpi.github.io/2019/12/03/django-centos7-apache/" data-id="ck6mao85z0002bvt69uqee922"
         class="article-share-link">åˆ†äº«</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/" rel="tag">Django</a></li></ul>

    </footer>

  </div>

  

  

</article>



      
        

<article id="post-django-custom-log-handler" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/11/15/django-custom-log-handler/">[Django] Custom Log handler</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2019/11/15/django-custom-log-handler/" class="article-date">
  <time datetime="2019-11-15T00:08:16.000Z" itemprop="datePublished">2019-11-15</time>
</a>
        
      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <p>Log handleræ˜¯ç•¶ç³»çµ±ç™¼ç”ŸéŒ¯èª¤æ™‚ï¼Œlog è™•ç†çš„æ–¹å¼ï¼Œè­¬å¦‚æŠŠéŒ¯èª¤è¨Šæ¯å¯«å…¥logæª”æ¡ˆæˆ–æ˜¯ç™¼ä¿¡çµ¦ç®¡ç†è€…ã€‚</p>
<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æˆ‘æƒ³è¦åœ¨ç³»çµ±å‡ºéŒ¯çš„æ™‚å€™ï¼Œè‡ªå‹•ç™¼ä¿¡çµ¦ç®¡ç†å“¡/ITäººå“¡ã€‚</p>
<p>Djangoæä¾›<code>AdminEmailHandler</code>ä»¥è™•ç†Django Applicationç™¼ç”Ÿç•°å¸¸æ™‚ï¼Œè‡ªå‹•å¯„ä¿¡é€šçŸ¥ç®¡ç†å“¡ã€‚<br>é€™è£¡æ‰€è¬‚çš„ç®¡ç†å“¡æ˜¯åªsettingsè£¡é¢<code>ADMIN</code>åƒæ•¸è¨­å®šçš„è³‡æ–™ï¼Œä¹Ÿè¡¨ç¤ºæœªä¾†è¦æ›´æ”¹ç®¡ç†å“¡å°±è¦å‹•åˆ°codeï¼Œç•¶ç„¶å¦‚æœæœ‰çµ±ä¸€æ”¶ä¿¡çª—å£å°±æ¯”è¼ƒæ²’æœ‰å½±éŸ¿ã€‚  </p>
<p>ä½†æˆ‘çš„æƒ…æ³ä¸æ˜¯é€™æ¨£ï¼Œåˆå› ç‚ºæˆ‘ç¿’æ…£ç”¨Admin siteç•¶ä½œç®¡ç†è³‡æ–™çš„GUIï¼Œsuperuserçš„è§’è‰²åªæœƒçµ¦ITäººå“¡ä½¿ç”¨ï¼Œæ‰€ä»¥å°±æ‰“ç®—å¯«ä¸€å€‹èƒ½å¤ å¾<code>UserModel</code>å–å¾—<code>superuser</code>ç•¶ä½œæ”¶ä»¶äººçš„log handler.  </p>
<h2 id="ç ”ç©¶"><a href="#ç ”ç©¶" class="headerlink" title="ç ”ç©¶"></a>ç ”ç©¶</h2><p><strong>å…ˆä¾†ç§ç§AdminEmailHandlerçš„å¯«æ³•:</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AdminEmailHandler</span><span class="params">(logging.Handler)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">emit</span><span class="params">(self, record)</span>:</span></span><br><span class="line">        ...</span><br><span class="line">    </span><br><span class="line">        html_message = reporter.get_traceback_html() <span class="keyword">if</span> self.include_html <span class="keyword">else</span> <span class="literal">None</span></span><br><span class="line">        self.send_mail(subject, message, fail_silently=<span class="literal">True</span>, html_message=html_message)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">send_mail</span><span class="params">(self, subject, message, *args, **kwargs)</span>:</span></span><br><span class="line">        mail.mail_admins(subject, message, *args, connection=self.connection(), **kwargs)</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç™¼ç¾ç™¼ä¿¡çš„methodä½¿ç”¨å…§å»ºçš„<code>mail_admins</code>ï¼Œè€Œå¾€ä¸‹è¿½æˆ–æ˜¯å®˜æ–¹æ–‡ä»¶ä¹Ÿå¯«äº†ï¼Œé€™å€‹methodè£¡é¢ç¢ºå¯¦è®€å–çš„æ”¶ä»¶äººemailä¾†è‡ªsettingsçš„<code>ADMIN</code>åƒæ•¸è¨­å®šã€‚</p>
<p>æ‰€ä»¥å‘¢ï¼Œå¯ä»¥ç¹¼æ‰¿é€™å€‹å·²ç¶“å¯«å¥½çš„handlerï¼Œå†å¦å¤–å¯«ä¸€å€‹methodè¦†è“‹<code>mail_admins</code>å°±å¥½ã€‚</p>
<h2 id="å¯¦ä½œ"><a href="#å¯¦ä½œ" class="headerlink" title="å¯¦ä½œ"></a>å¯¦ä½œ</h2><p>é¦–å…ˆè¦æœ‰ä¸€å€‹æ›¿ä»£mail_adminsçš„methodã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mail_superusers</span><span class="params">(subject=<span class="string">''</span>, body=<span class="string">''</span>, fail_silently=False, html_message=<span class="string">''</span>)</span>:</span></span><br><span class="line">    <span class="string">"""Send a message to the superusers, users who are set to be a superuser."""</span></span><br><span class="line">    <span class="comment"># get superusers</span></span><br><span class="line">    user_model = apps.get_model(<span class="string">'base'</span>, <span class="string">'User'</span>)</span><br><span class="line">    superusers = user_model.objects.filter(is_superuser=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># get their emails</span></span><br><span class="line">    email_addrs = [user.email <span class="keyword">for</span> user <span class="keyword">in</span> superusers]</span><br><span class="line">    connection = get_connection()</span><br><span class="line">    mail = EmailMultiAlternatives(</span><br><span class="line">                 subject=subject,</span><br><span class="line">                body=body,</span><br><span class="line">                to=email_addrs,</span><br><span class="line">                connection=connection</span><br><span class="line">            )</span><br><span class="line">    <span class="keyword">if</span> html_message:</span><br><span class="line">        mail.attach_alternative(html_message, <span class="string">'text/html'</span>)</span><br><span class="line">    mail.send(fail_silently=fail_silently)</span><br></pre></td></tr></table></figure>

<p>é€™è£¡è¸©äº†ä¸€å€‹å°å‘ï¼ŒUserå¿…é ˆæ˜¯<strong>lazy import</strong>ï¼Œå¦å‰‡Applicationç„¡æ³•é †åˆ©åŸ·è¡Œã€‚</p>
<p>å†ä¾†æ˜¯custom log handlerï¼Œéå¸¸ç°¡å–®ï¼Œå°±åªéœ€è¦æŠŠsend_mailè¦†å¯«å°±è¡Œ:</p>
<figure class="highlight python"><figcaption><span>log_handler.py</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperUserEmailHandler</span><span class="params">(AdminEmailHandler)</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">send_mail</span><span class="params">(self, subject, message, *args, **kwargs)</span>:</span></span><br><span class="line">        mail_superusers(subject, message, *args, **kwargs)</span><br></pre></td></tr></table></figure>

<p>æœ€å¾Œæ”¾åˆ°LOGGINGè¨­å®šè£¡é¢:  </p>
<figure class="highlight python"><figcaption><span>settings.py</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="string">'mail_mis'</span>: &#123;</span><br><span class="line">    <span class="string">'level'</span>: <span class="string">'ERROR'</span>,</span><br><span class="line">    <span class="string">'filters'</span>: [<span class="string">'require_debug_false'</span>],</span><br><span class="line">    <span class="string">'class'</span>: <span class="string">'log_handler.SuperUserEmailHandler'</span>,</span><br><span class="line">    <span class="string">'include_html'</span>: <span class="literal">True</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çµæŸ!</p>
<p>ä½†æ˜¯å› ç‚ºä»–æœ¬ä¾†å°±æ˜¯å‚³é€ä¸€æ•´ä»½degugé é¢(å°±æ˜¯DEBUG=Trueæœƒçœ‹è¦‹çš„é»ƒé )<br>ï¼Œæˆ‘ä¹Ÿæ²’æœ‰ç‰¹åˆ¥å»æ”¹å¯«è¦å‚³é€çš„å…§å®¹ï¼Œæ‰€ä»¥emailå…§åŒ…å«å¾ˆè©³ç´°çš„bugè¿½è¹¤ï¼Œæ˜¯æœ‰é»å±éšªçš„å–”ã€‚</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://docs.djangoproject.com/en/2.2/topics/logging/#django.utils.log.AdminEmailHandler" target="_blank" rel="noopener">Django docs - AdminEmailHandler</a><br><a href="https://stackoverflow.com/questions/29744016/how-to-lazy-load-a-model-in-a-managers-to-stop-circular-imports" target="_blank" rel="noopener">Stackoverflow - How to Lazy Load a model in a managers to stop circular imports?</a><br><a href="https://myapollo.com.tw/zh-tw/django-customize-logging-handler/" target="_blank" rel="noopener">å¯«å¾—æ›´è©³ç›¡ - Django æ‰“é€  logging handler å°‡ exception é€åˆ° Slack</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://willynpi.github.io/2019/11/15/django-custom-log-handler/" data-id="ck6mao8620005bvt6gv055t08"
         class="article-share-link">åˆ†äº«</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django-tricks/" rel="tag">Django, tricks</a></li></ul>

    </footer>

  </div>

  

  

</article>



      
  </article>
  

  
</section>
</div>

  <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2020 yNotes</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean" target="_blank" rel="noopener">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>

  <aside class="sidebar">
    
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/logo-y.svg" alt="yNotes"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">Home</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">Archives</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">Gallery</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">About</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="æœå°‹">
        <i class="fe fe-search"></i>
        æœå°‹
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>

  <script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/ocean.js"></script>

</body>
</html>